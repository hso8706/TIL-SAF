### 암호화 알고리즘

- 암호화 알고리즘 개요
  - 유저 정보(예, 비밀번호)를 다룰 때, PlainText 그대로 클라이언트와 서버 혹은 서버 애플리케이션 내부에서 데이터를 주고받는 것은 보안상 위험하기 때문에 암호화를 해야한다. (현재는 선택이 아닌 필수로 암호화 해야한다.)
  - 다양한 암호화 알고리즘 중에서 `Hashing`을 사용하는 알고리즘을 사용할 예정이고, 그 중에서 좀 더 강도높은 암호화를 위해 `salt`를 사용하며 `Hashing` 알고리즘의 대표인 `SHA-256`을 사용할 것이다.
- SHA-256 알고리즘 설명
  - SHA(Secure Hash Algorithm)알고리즘 중 하나
  - 256비트로 구성되며 64자리 문자열을 반환
  - 레인보우 테이블의 위험을 대비하기 위해 `salt`라는 별도의 값을 추가하여 결과를 변형시키고 암호화한다.
  - `salt`는 랜덤하게 생성하되 유저마다 고유한 값을 갖도록 한다. (해당 유저 테이블에 같이 저장한다)
- 인증 과정
  - 유저의 첫 회원가입 시 정보를 암호화(hasing)한 후 DB에 저장
  - 이후 유저가 로그인할 때, 해당 정보를 암호화한 후 DB에 저장된 해싱값과 비교
  - 해싱값이 일치하면 인증 처리
- 구현 상세
  - 유저의 password에 암호화 적용 예정
    ```java
    import java.nio.charset.StandardCharsets;
    import java.security.MessageDigest;
    import java.security.NoSuchAlgorithmException;

    public class PasswordEncryptionExample {
        public static void main(String[] args) throws NoSuchAlgorithmException {
            String password = "userPassword123"; // 암호화할 비밀번호(유저의 입력)
            String salt = "randomSalt"; // 임의의 솔트값, 유저마다 고유하게 설정
            
            String hashedPassword = hashPassword(password, salt); // 비밀번호 암호화 메서드
            
            // 암호화된 비밀번호와 솔트 출력
            System.out.println("Hashed Password: " + hashedPassword);
            System.out.println("Salt: " + salt);
        }
        
        // 비밀번호 해시 함수
        public static String hashPassword(String password, String salt) throws NoSuchAlgorithmException {
            String saltedPassword = salt + password; // salt와 유저의 비밀번호를 결합
            /*
            ### MessageDigest
            - MD5, SHA 알고리즘을 이용하기 위한 객체
            - .getInstance("SHA-256")를 통해서 SHA-256 사용 객체를 호출
            - .digest()를 통해 암호화 실행

            ### String.getBytes(StandardCharsets.UTF_8)
            - 문자열을 인자로 제공한 Charset으로 인코딩, 즉 바이트코드로 변환해주는 메서드
            */
            MessageDigest messageDigest = MessageDigest.getInstance("SHA-256"); // SHA-256 알고리즘 객체 호출
            byte[] hashedPassword = messageDigest.digest(saltedPassword.getBytes(StandardCharsets.UTF_8));
            return bytesToHex(hashedPassword);
        }
        
        // 바이트 배열을 16진수 문자열로 변환하는 메서드
        private static String bytesToHex(byte[] bytes) {
            StringBuilder sb = new StringBuilder();
            for (byte b : bytes) {
                String hex = Integer.toHexString(b & 0xff);
                if (hex.length() == 1) {
                    sb.append("0");
                }
                sb.append(hex);
            }
            return sb.toString();
        }
    }
    ```