### 연관 관계 매핑
- 엔티티 클래스 간의 관계를 만들어주는 것

### 단방향, 양방향 연관 관계 매핑 지원
- Spring Data JDBC
  - 단방향 연관 관계 매핑만 지원
- JPA
  - 단방향 연관 관계 매핑과 양방향 연관 관계 매핑 모두 지원 

### 일대다(1:N), 다대일(N:1) 연관 관계
- 일대다(1:N) 단방향 연관 관계
  - 1에 해당하는 클래스 내에서 N에 해당하는 객체를 List 형식의 필드로 참조
  - 단독으로는 사용되지 않음. DB 테이블을 생각하면 이해 편함
    - 테이블 관계에서 1대N 관계에선 N에 해당하는 테이블이 1에 해당하는 테이블의 PK를 FK로 갖음.
    - 하지만 위 상황(일대다 단방향 연관 관계)은 그 반대 상황이고, 이는 큰 의미가 없는 매핑이 됨
    - 나중에 양방향 연관 관계를 만들어 사용한다.
- 다대일(N:1) 단방향 연관 관계
  - N에 해당하는 클래스 내에서 1에 해당하는 객체를 필드로 참조
  - @ManyToOne, @JoinColumn
    - @ManyToOne
      - 다대일 단방향 연관 관계 매핑에서 1에 해당하는 객체를 참조하는 필드에 붙이는 애너테이션
    - @JoinColumn(name = "{table_key_name}")
      - 참조하는 객체의 테이블 PK 값을 설정하는 애너테이션
- 1:N, N:1 양방향 연관 관계
  - DB를 다룰 때처럼 다대일 관계에서 N의 입장에서 어떤 1들이 있는지 볼 때도 있지만, 1의 입장에서 어떤 N에 속해있는지의 정보도 필요할 수 있다.
  - 이를 위해서 N:1 단방향 연관 관계에 1:N 단방향 연관 관계를 추가한다.
  - 대신 이 때 1:N 단방향 연관 관계에 사용되는 @OneToMany에는 `mappedBy = {class name}`속성이 필수로 사용된다.

### @OneToMany(mappedBy = {class name})
- N:1 양방향 연관 관계에서 사용되는 애너테이션
- 1에 해당하는 Entity 객체에 사용된다.
- mappedBy
  - 양방향 관계를 맺기 위해 필수로 사용되는 속성
  - 속성값으로는 N에서 외래키 역할을 하는 필드명을 String 형식으로 작성한다.

### N:1 매핑 요점
- 외래키 역할을 하는 필드는 N에 해당하는 클래스에 존재한다.
- N:1 단방향에 1:N 단방향 매핑을 추가하는 방식이고, mappedBy를 주의하자.

### 다대다(N:N), 일대일(1:1) 연관 관계
- 다대다(N:N) 연관 관계
  - 중간 관계 테이블을 만들어 2개의 N:1 연관 관계로 N:N처럼 이어주는 것이 일반적인 방법
- 일대일(1:1) 연관 관계
  - N:1 연관 관계와 똑같은 방식을 사용. 애너테이션만 다름
  - @OneToOne 사용

### 연관 관계 요약 및 권장
- 일대다 매핑 사용 안함
- 다대일 단방향 매핑으로 1:N, N:1 관계를 표현할 것
  - 객체 그래프 탐색이 필요한 경우 일대다 매핑을 추가하여 양방향으로 사용할 것
  - 객체 그래프 탐색 : 객체를 통해 다른 객체의 정보를 얻을 수 있는 것