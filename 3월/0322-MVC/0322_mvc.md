# 23.03.22

## Cookie & Session
### http protocol의 stateless
- 지속적으로 연결을 유지하지 않고, 요청과 응답이 마무리되면 연결을 종료하는 http 특징
- 자원 낭비를 방지할 수 있음
- 하지만, 이러한 특성 때문에 사용자 정보(로그인 등)를 유지할 수 없는 단점이 있음
- stateful하게 http 를 사용하기 위해서 cookie와 session을 사용

### Cookie
- 사용자 정보를 사용자 컴퓨터(client)에 저장하는 방식(text 형식 파일)

### Cookie 동작 방식
1. request : client => server, 최초 요청
2. request + a : server => client, 최초 응답에 쿠키(식별 정보)가 딸려온다.
3. request + a : client => server, 이후 요청부터는 쿠키 정보를 포함하여 보냄
4. request + a' : server => client, 쿠키를 통해 검증하고, 응답 시 갱신된 쿠키를 같이 보냄

### Cookie 특징
- key, value로 이루어진 string 형식 데이터
- 클라이언트에 총 300개 쿠키 저장 가능
- 도메인 당 20개 쿠키 가능
- 하나의 쿠키 텍스트 파일은 4KB까지 저장 가능

### Session
- 사용자 정보를 Server(session storage)에 저장하는 방식
- 각각의 클라이언트 별로 server 내부에 저장 공간이 별도로 존재
- tomcat 사용 시 jsessionId로 이를 구분

### session 내 저장할 데이터 타입
- 객체만 가능, 기본형 불가

### servlet으로 session 구현하기
- CartServlet.java

### jsp로 session 구현하기
- webapp > session