## 백엔드 과목평가 준비
1.서블릿 url 매핑
2.HttpServlet 라이프 사이클
3.서블릿 관련 객체, 주요 메서드
(HttpServlet, GenericServlet, HttpServletRequest/Response, HttpSession, ServletContext), getAttribute(), setAttribute(), getParameter() ..
3.페이지 이동 관련 객체 및 메소드
4.클라이언트 요청방식, 서블릿에서의 처리방법, 에러 응답 코드
5.JSP 구성요소별 기능 및 사용법
6.JSP구문 EL로 변환하기, EL 연산자(empty)
7.JSTL import 및 사용
8.Scope 관련 객체들
9.쿠키 개념, 특징, 설정,전송
10.세션 개념, 특징, 객체 타입, 메소드
11.MVC 패턴 이해 및 동작의 이해
12.forward, sendRedirect의 이해

### 1. @WebServlet
- Servlet(.java)이 Controller 역할을 할 수 있도록 하는 애너테이션
- `urlPatterns` 속성
  - context root(String)를 지정할 수 있는 속성
  - 중괄호({})를 통해 2개 이상의 url을 지정할 수 있음

### 2. HttpServlet Life-Cycle
- init() : 서블릿이 메모리에 로드 될 때 최초 한 번 호출(== 서버가 최초 실행될 떄 호출)
- service() : 모든 요청은 service()가 받아냄, 이후 요청 방식에 따라 doGet(), doPost()로 분출
- doGet(), doPost() : request를 받아서 response를 반환함, request가 들어올 때 마다 호출됨
- destroy() : 서블릿이 메모리에서 해제될 때 호출(== 서버 종료 시 호출, 코드 수정되어도 호출)

### 3. 서블릿 관련 객체, 주요 메서드
- Servlet
  - 서블릿 인터페이스
  - 이를 구현하여 서블릿으로 사용 가능
  - 서블릿 라이프 사이클에 관련된 모든 메서드 구현 필수
- GenericServlet
  - 서블릿 인터페이스의 구현체 중 하나
  - 서블릿 추상 클래스
  - 이를 상속받아 서블릿으로 사용 가능
  - service() 메서드만 필수 구현
- HttpServlet
  - 서블릿 인터페이스의 구현체 중 하나
  - 서블릿 추상 클래스
  - 이를 상속받아 서블릿으로 사용 가능
  - 라이프 사이클 메서드 중 하나 이상을 구현하면 됨
  - 활용도가 높기 때문에 주로 HttpServlet을 구현한 서블릿을 주로 사용
- HttpServletRequest
  - 서버로 들어오는 request의 정보를 담는 객체
  - 쿼리 파라미터, form 태그 요소 등의 정보값이 포함되어 있음
  - get 메서드
    - get메서드만 존재하며 request의 모든 정보를 호출할 메서드들이 존재함
    - getParameter(); set메서드는 존재하지 않음
    - getServletPath()
    - getContextPath()
- HttpServletResponse
  - 클라이언트로 전달할 response의 정보를 저장한 객체
  - sendRedirect()
- HttpSession
  - 클라이언트의 세션 정보를 처리하기 위해 사용
  - getSession() : request에 있는 세션 정보로 Session 객체 생성
  - invalidate() : 저장되어있는 모든 속성 제거
- ServletContext
  - javax.servlet.ServletContext
  - 서블릿끼리의 데이터(자원) 공유에 사용되는 객체. 즉, server 전체에 정보를 주고받게 하는 객체
  - jsp의 기본 객체인 application에 해당하는 servlet 객체
  - getAttribute(), setAttribute()
  - 하위 범위(pageContext, request, session)도 위 메서드들을 모두 사용 가능함

### 4. 페이지 이동 관련 객체 및 메소드
- RequestDispatcher
  - Request 에서 호출하는 객체
  - .jsp 파일의 경로를 string 타입으로 인자로 제공
- RequestDispatcher.forward
  - request, response 정보를 위 인자로 제공한 파일로 그대로 전달
  - 전달하기 전 보통 request.setAttribute("name", value)로 정보를 담아서 전달
  - .jsp에서는 ${name}으로 해당 value를 호출
- HttpServletResponse.sendRedirect()
  - request, response 정보 전달 없이 그저 화면 이동을 위해 사용하는 메서드
  - url 경로, 혹은 파일 경로 제공

### 세션, 쿠키
- 세션과 쿠키의 기본 개념(목적, 저장 위치)
- 세션과 쿠키의 목적
  - 기본적으로 쿠키와 세션은 http protocol의 특징인 stateless를 극복하기 위해 사용함.
- 타 언어간(java, javascript)의 데이터 이동은 문자열로만 이루어진다.
  - 자바 코드에서 다시 사용하기 위해서는 객체로 변경하여 사용한다.

### 쿠키
- 쿠키
  - 사용자의 정보들을 사용자의 컴퓨터에 직접 저장하여 stateless를 극복하는 방식
  - browser마다 저장되는 쿠키가 다름
  - browser가 장동으로 요청을 보낼 때 request header에 넣어서 서버에 정보를 보냄
  - 개인화, 트래킹을 위해 사용된다
  - 세션의 사용을 위해 사용된다.
- 동작 순서
  1. client의 요청
  2. WAS는 쿠키를 생성하고, 응답 시 HTTP header에 쿠키를 넣어 보냄
  3. browser를 통해 넘겨받은 쿠키를 local pc에 저장
  4. 쿠키의 만료 기간전까진 browser가 꺼져도 계속 보관되며, 요청을 보낼 때 쿠키를 같이 보냄
- javax.servlet.http.Cookie

### 세션
- 세션
  - 방문자가 웹 서버에 접속해 있는 상태를 단위로 취급했을때, 그 단위를 세션이라고 함.
  - WAS, 즉 서버에 사용자 정보가 저장되는 방식
  - Object 형식으로 저장됨
  - 창(Browser)를 끄지 않는다면 세션은 풀리지 않고 유지(다른 페이지도 가능)
  - 세션을 활용하기 위해서 내부적으로 쿠키를 사용함.
    - 쿠키명: JSEESIONID
- 동작 순서
  1. client의 요청
  2. 요청에 존재하는 쿠키에서 사용자 정보를 확인하고, 해당 정보가 세션 저장소에 있는지 확인
  3. 세션 저장소에 존재하지 않는다면 session-id를 생성하여 클라이언트에 전달
  4. 생성 및 전달받은 session-id를 쿠키에 담아 사용하며, 클라이언트와 서버는 세션이 종료되기 전까지 사용자 정보를 유지함.
- javax.servlet.http.httpSession
- HttpSession.invalidate() : 저장되어있는 모든 속성 제거
- 세션 타임아웃
  - 세션 정보가 일정 시간 사용되지 않았을 경우 세션 정보가 삭제되는 것을 의미
  - `web.xml`파일에서 `<session-config>`의 하위 설정인 `<session-timeout>`으로 설정 가능

### GET, POST
- GET
    - url 쿼리 파라미터로 인자 제공
    - 보안 취약
- POST
    - request body로 인자 제공
    - 상대적으로 보안 좋음

### Request forward
- Controller에서 jsp로 정보를 넘기는 방법 중 하나
- RequestDispatcher 객체 이용
- jsp에서 꺼내 쓰는 법도 알아두기(`${}`)
- `empty` 키워드 : null 값으로 넘어왔는지 확인할 때 사용
 
### 서술형 가능성
- forward, sendRedirect
- 세션과 쿠키
- LifeCycle에 대해서 적기

### JSP
- Java Server Page

### error
- 404 error
    - 요청한 페이지(파일, 자원)가 없을때
- 500 error
    - 서버 코드 자체가 잘못 되었을때.
- 405 error
    - 요청한 방식(get, post)과 서버에 존재하는 메서드가 안 맞을 때(없을때)

### getContextPath(), getServletPath()
- getContextPath() : context root를 String으로 반환
- getServletPath() : url 맨 마지막 값을 String으로 반환

### AJAX Controller
- AJAX : 비동기 요청을 위해 사용
- 온/오프라인 코칭 AJAX Controller 파일 참고
- JSON을 java와 javascript 사이에서 주고받을땐 String 형식, java 내에서 사용할 땐 Object(json)로 사용

### 데이터 저장 scope(jsp의 디폴트 객체)
- pageContext : 하나의 jsp 페이지 하나에서만 사용 가능한 범위
- request : 여러 jsp 페이지에서 사용 가능(forward 방식으로 전달)
- session : 모든 jsp 페이지에서 사용 가능, 창을 끄지않으면 계속 사용 가능
- application : 톰캣을 끄지 않으면 계속 사용 가능
- 데이터를 찾아가는 순서도 알아둘 것
- jsp의 디폴트 객체명이 servlet의 객체에선 어떤 이름인지도 알아둘 것(자바 코드에서는 어떤 타입으로 쓰는지)
- servlet에서 저장한 데이터를 jsp에서 호출하는 방법, 그리고 동일한 이름이지만 다른 스코프에 저장된 데이터를 호출하는 방법도 알아둘 것(el표기법: sessionScope.)

### getParameter, getAttribute
- getParameter() : 클라이언트에서 받아오는 정보
- getAttribute() : application 내에서 전달하는 정보

### Attribute
- get/setAttribute()는 pageContext, request, session, application 모두에서 사용하는 공통 메서드
- get, set으로 Attribute을 호출, 변경이 가능하다.

### RequestDispatcher
- RequestDispatcher을 사용해서 forward로 보내는 코드 부분 기억하기

### 체크박스에서 값 얻어오기
- getParameterValues()
  - 체크박스와 같은 경우(같은 name 속성으로 묶인 값들)의 정보를 받는 메서드
  - String[]의 반환값이 제공된다.
  - 메서드의 인자로는 name(태그 속성)의 value를 제공한다.

### EL
- .jsp내의 `<%= %>`를 대체하는 표현을 위한 언어
- 대체 표현은 `${}`이다.
- `${property.value}` == `${property["value"]}`
- **내장 객체**
  - pageScope, requestScope, sessionScope, applicationScope
    - 같은 이름, 다른 범위의 property가 servlet에서 건네졌을때 개별 호출하는 용도로 사용
    - 예시: `${pageContext.request.userinfo}`
  - cookie
    - HttpServletRequest.getCookies()를 통해 쿠키 정보 호출하는 객체
    - 예시: `${cookie.id.value}` // 주의: cookies 아님 + 전부 소문자

### JSTL
- page, taglib, include 지시어 알아두기
- taglib 강조, jstl 사용하기 위한 코드 외워두기
  - `<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>`

### jsp 구성 요소
- HTML 태그
- Element
    - 지시어 요소
        - page : 현재 JSP 페이지 처리 정보를 컨테이너에 전달
        - include : 특정 JSP 파일을 import하는 개념
        - taglib : 커스텀 태그 라이브러리 사용
    - 스크립팅 요소
        - 선언 `<%! %>` : 변수명, 메서드
        - 식 `<%= %>` : 출력, 내부에 ; 적지 말기
        - scriptlet `<% %>` : 자바 코드 자유롭게 적음. 사용 줄일 것(강조하심)
        - EL `${}`
    - action 요소
        - `<jsp: >`
            - forward, include

### EL로 cookie 접근
- ${cookie.userid.value} : 쿠키안에 저장된 userid의 값을 뽑아냄. 전부 소문자, cookies 아님~

### jsp, jstl, el
- jsp 내에서 jstl, el 모두 사용가능
- jsp파일은 톰캣이 servlet으로 바꿔줌

### MVC
- 각각 설명, servlet, jsp 내용 더해서

### service 함수 - 지상일
- service 함수는 자동으로 호출됨.
- get, post 구분 없이 모든 요청을 받아냄

### jstl의 if, foreach 태그 기억하기
- if
  - `<c:if test="${EL 표현식}">조건이 true일 경우 실행</c:if>`
  - `<c:choose>, <c:when>, <c:otherwise>` == if, else if, else
- foreach
  - `<c:forEach var="name" items="${EL 표현식}">반복 실행 내용</c:forEach>`
  - 반복 실행 내용 : `${name.id}`

### web.xml
- 어노테이션대신 사용가능
- 뭐하는건지 알아둘 것.
  - web application 설정 파일
  - 어떤 servlet이 매핑 되어있는지, 그리고 그게 어떤 이름이고 어떤 url을 가졌는지 등을 지정
```java
<web-app>
     <!-- 1. aliases 설정 -->
    <servlet>
        <servlet-name>welcome</servlet-name>
        <servlet-class>servlets.WelcomeServlet</servlet-class>
    </servlet>

    <!-- 2. 매핑 -->
    <servlet-mapping>
        <servlet-name>welcome</servlet-name>
        <url-pattern>/welcome</url-pattern>
    </servlet-mapping>
</web-app>
```